"""\nMain FastAPI application entry point.\n"""\nimport logging\nfrom fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom sqlalchemy import text\n\nfrom app.config import settings\nfrom app.database import SessionLocal\n\n# Configure logging\nlogging.basicConfig(\n    level=logging.INFO,\n    format="%(asctime)s - %(name)s - %(levelname)s - %(message)s"\n)\nlogger = logging.getLogger(__name__)\n\napp = FastAPI(\n    title="To-Do App API",\n    description="A simple to-do list application with user authentication",\n    version="1.0.0"\n)\n\n# CORS configuration using settings\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=settings.CORS_ORIGINS,\n    allow_credentials=True,\n    allow_methods=["*"],\n    allow_headers=["*"],\n)\n\n\n@app.get("/")\ndef root():\n    """Root endpoint returning API information."""\n    return {\n        "status": "ok",\n        "message": "To-Do App API is running",\n        "version": "1.0.0"\n    }\n\n\n@app.get("/health")\ndef health_check():\n    """\n    Health check endpoint.\n    Returns the health status of the API and database connection.\n    """\n    db_status = "unknown"\n    db_message = ""\n    \n    try:\n        db = SessionLocal()\n        db.execute(text("SELECT 1"))\n        db.close()\n        db_status = "healthy"\n        db_message = "Database connection successful"\n        logger.info("Health check: Database connection successful")\n    except Exception as e:\n        db_status = "unhealthy"\n        db_message = f"Database connection failed: {str(e)}"\n        logger.error(f"Health check: Database connection failed - {e}")\n    \n    overall_status = "healthy" if db_status == "healthy" else "unhealthy"\n    \n    return {\n        "status": overall_status,\n        "components": {\n            "api": {\n                "status": "healthy",\n                "message": "API is running"\n            },\n            "database": {\n                "status": db_status,\n                "message": db_message\n            }\n        }\n    }\n\n\n@app.on_event("startup")\nasync def startup_event():\n    """Log application startup."""\n    logger.info("Starting To-Do App API")\n    logger.info(f"CORS origins: {settings.CORS_ORIGINS}")\n\n\n@app.on_event("shutdown")\nasync def shutdown_event():\n    """Log application shutdown."""\n    logger.info("Shutting down To-Do App API")\n