"""\nDatabase configuration and session management.\nUses SQLAlchemy for ORM with PostgreSQL.\n"""\nimport logging\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker\n\nfrom app.config import settings\n\nlogger = logging.getLogger(__name__)\n\n# Create SQLAlchemy engine\nengine = create_engine(\n    settings.DATABASE_URL,\n    pool_pre_ping=True,  # Verify connections before using them\n    pool_size=5,  # Maximum number of connections to keep in the pool\n    max_overflow=10,  # Maximum number of connections to create beyond pool_size\n)\n\n# Create session factory\nSessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)\n\n# Create base class for declarative models\nBase = declarative_base()\n\n\ndef get_db():\n    """\n    Database session dependency for FastAPI.\n    Yields a database session and ensures it is closed after use.\n    \n    Usage:\n        @app.get("/items")\n        def get_items(db: Session = Depends(get_db)):\n            return db.query(Item).all()\n    """\n    db = SessionLocal()\n    try:\n        yield db\n    finally:\n        db.close()\n\n\ndef check_database_connection() -> bool:\n    """\n    Check if database connection is working.\n    Returns True if connection is successful, False otherwise.\n    """\n    try:\n        db = SessionLocal()\n        db.execute("SELECT 1")\n        db.close()\n        logger.info("Database connection successful")\n        return True\n    except Exception as e:\n        logger.error(f"Database connection failed: {e}")\n        return False\n