/**\n * API service for communicating with the backend.\n * Provides a configured axios instance and API helper functions.\n */\nimport axios from 'axios';\n\n// Get API URL from environment variable, fallback to localhost for development\nconst API_URL = import.meta.env.VITE_API_URL || 'http://localhost:8000';\n\n// Create axios instance with default configuration\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Request interceptor for adding auth token\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('access_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor for handling errors\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    // Handle specific error status codes\n    if (error.response?.status === 401) {\n      // Token expired or invalid - clear local storage\n      localStorage.removeItem('access_token');\n      // Optionally redirect to login page\n    }\n    return Promise.reject(error);\n  }\n);\n\n/**\n * Health check API call.\n * Used to verify backend connectivity.\n */\nexport const healthCheck = async () => {\n  const response = await api.get('/health');\n  return response.data;\n};\n\nexport default api;\n