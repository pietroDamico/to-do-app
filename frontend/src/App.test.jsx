/**\n * Tests for the main App component.\n */\nimport { describe, it, expect, vi, beforeEach } from 'vitest'\nimport { render, screen, waitFor } from '@testing-library/react'\nimport App from './App'\n\n// Mock the API service\nvi.mock('./services/api', () => ({\n  healthCheck: vi.fn(),\n}))\n\nimport { healthCheck } from './services/api'\n\ndescribe('App', () => {\n  beforeEach(() => {\n    vi.clearAllMocks()\n  })\n\n  it('renders the app title', async () => {\n    healthCheck.mockResolvedValue({\n      status: 'healthy',\n      components: {\n        api: { status: 'healthy' },\n        database: { status: 'healthy' },\n      },\n    })\n\n    render(<App />)\n    expect(screen.getByText('To-Do App')).toBeInTheDocument()\n  })\n\n  it('displays API status from health check', async () => {\n    healthCheck.mockResolvedValue({\n      status: 'healthy',\n      components: {\n        api: { status: 'healthy' },\n        database: { status: 'healthy' },\n      },\n    })\n\n    render(<App />)\n\n    await waitFor(() => {\n      // Check that both status elements exist\n      const healthyElements = screen.getAllByText('healthy')\n      expect(healthyElements).toHaveLength(2)\n    })\n  })\n\n  it('displays error status when health check fails', async () => {\n    healthCheck.mockRejectedValue(new Error('Connection failed'))\n\n    render(<App />)\n\n    await waitFor(() => {\n      // Check that both status elements show error\n      const errorElements = screen.getAllByText('error')\n      expect(errorElements).toHaveLength(2)\n    })\n  })\n})\n